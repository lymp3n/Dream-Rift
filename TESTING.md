# Руководство по тестированию

## Быстрый тест

```bash
python quick_test.py
```

Этот скрипт:
1. Проверяет импорты
2. Инициализирует БД
3. Создает тестовые данные

## Тестирование API

### 1. Запустите бэкенд:
```bash
cd backend
uvicorn backend.src.api.main:app --reload
```

### 2. Проверьте здоровье:
```bash
curl http://127.0.0.1:8000/health
```

### 3. Получите персонажа:
```bash
curl http://127.0.0.1:8000/api/characters/1
```

## Тестирование интерфейса

### Запуск:
```bash
python run.py
```

### Проверка:
1. Должен отобразиться статус-бар с HP/MP
2. Должна отобразиться локация с описанием
3. Чат должен быть внизу (3 строки)
4. Команда `/chat` должна открыть чат на весь экран

## Известные проблемы и решения

### Проблема: Персонаж не найден
**Решение**: Запустите `python quick_test.py` для создания тестовых данных

### Проблема: Ошибки импорта
**Решение**: Убедитесь, что все зависимости установлены:
```bash
pip install -r requirements.txt
```

### Проблема: Интерфейс накладывается
**Решение**: Используйте упрощенный рендеринг (уже исправлено)

### Проблема: Бой не работает
**Решение**: 
1. Убедитесь, что персонаж в локации
2. Убедитесь, что в локации есть мобы
3. Используйте команду `attack <monster_id>` для начала боя

## Команды для тестирования

### В игре:
- `attack 1` - атаковать моба с ID 1
- `1` - обычная атака в бою
- `2`, `3`, etc. - использовать навык из слота
- `/chat` - открыть/закрыть чат
- `меню` - открыть меню

### API:
- `GET /api/characters/1` - получить персонажа
- `POST /api/combat-enhanced/start?character_id=1&monster_id=1` - начать бой
- `POST /api/combat-enhanced/action` - выполнить действие в бою

